{
  "rules": {
    "vouchers": {
      ".indexOn": ["used", "expiresAt"],
      ".read": "auth != null",
      ".write": "auth != null",
      "$voucherCode": {
        ".validate": "newData.hasChildren(['code', 'createdAt', 'expiresAt', 'used', 'paymentIntentId']) && newData.child('code').isString() && newData.child('createdAt').isNumber() && newData.child('expiresAt').isNumber() && newData.child('used').isBoolean() && newData.child('paymentIntentId').isString()"
      }
    },
    "premium_sessions": {
      ".indexOn": ["expiresAt"],
      ".read": "auth != null",
      ".write": "auth != null",
      "$sessionId": {
        ".validate": "newData.hasChildren(['accessCode', 'expiresAt', 'startedAt']) && newData.child('accessCode').isString() && newData.child('expiresAt').isNumber() && newData.child('startedAt').isNumber()"
      }
    },
    "$other": {
      ".read": false,
      ".write": false
    }
  }
}
